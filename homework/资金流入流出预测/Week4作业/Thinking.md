# Thinking: 如果你是某P2P租车的技术负责人，你会如何设计个性化推荐和搜索排序

## 一、阐述相似车型，搜索排序的设计方法

* **召回阶段**
  * 基于内容
    * 根据租车信息的静态属性（如地点、价格、车型、品牌、颜色、取消预定减免政策等）提前计算不同租车信息的相似程度，筛选出相似程度最高的一定数量的租车信息
  * 基于协同过滤
    * user-based
      * 根据用户的历史租车和点击数据，计算找到与用户租车偏好相似的其他用户，并根据其他用户的历史租车信息提供一定数量的推荐
    * item-based
      * 计算租车信息之间的相似程度，根据用户之前预定过的车来找到相似的其他租车信息提供一定数量的推荐
* **排序阶段**
  * 基于召回阶段初步筛选得到的租车信息，利用有效的特征进行机器学习模型（二分类问题）训练来进行预测
  * 所用特征可包含一些显性的比较有效的业务特征，以及难以直观发掘的利用embedding计算计算得到的特征等。



## 二、可能的embedding策略

1. 将每条租车信息视为一个单词，将每个用户的连续点击行为组成一条语句（两次点击之间超过一定时间则视为结束点击），继而从全部用户得到大量的语句，利用word2vec技术训练得到embedding矩阵

2. 在目标函数设计时，考虑对比引入全局或局部负样本、根据下单行为等测试不同的目标函数下的优化结果来选定最后的目标函数

3. 测试不同的embedding维度得到的结果，选择合适的维度

   